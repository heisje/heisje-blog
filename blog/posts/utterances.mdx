---
title: Next13 ë¸”ë¡œê·¸ì— ê¹ƒí—ˆë¸Œ ëŒ“ê¸€ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸° (+ë‹¤í¬ëª¨ë“œ ì„¤ì •)
description: Next13ì— ê¹ƒí—ˆë¸Œ ëŒ“ê¸€ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ë³´ì
category: Next.JS
createdAt: 2023-11-19
---
# Next13 ë¸”ë¡œê·¸ì— ê¹ƒí—ˆë¸Œ ëŒ“ê¸€ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°

# ì„œë¡ 
Utterancesë¥¼ ì‚¬ìš©í•˜ë©´ **ì •ë§ ì‰½ê²Œ** ê¹ƒí—ˆë¸Œ ëŒ“ê¸€ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
ìì²´ UIë¥¼ ì œê³µí•´ ê·€ì°®ì€ CSSë„ ì•ˆí•  ìˆ˜ ìˆë‹¤ ^0^
ê¹ƒí—ˆë¸Œ ì´ìŠˆê¸°ë°˜ìœ¼ë¡œ êµ¬ë™ë˜ì–´ ê¹ƒí—ˆë¸Œ ì•Œë¦¼ë„ ë°›ì„ ìˆ˜ ìˆì–´ì„œ 1ì„ 3ì¡°!
> ë‹¤ìŒ ê¸€ì„ ì½ê³  ì¬êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤. [https://computasha.github.io/etc-utterances/](https://computasha.github.io/etc-utterances/)

# ë”°ë¼í•˜ê¸°
### 1. ë‹¤ìŒ ë¸”ë¡œê·¸ ê¸€ì„ **4ë²ˆ í…Œë§ˆì„¤ì •**ê¹Œì§€ ë”°ë¼í•œë‹¤. ì¹œì ˆí•˜ê²Œ ì˜ ì„¤ëª…ì´ ë˜ìˆì–´ì„œ íŒ¨ìŠ¤!
- [https://computasha.github.io/etc-utterances/](https://computasha.github.io/etc-utterances/)
> ë§Œì•½ ë‹¤ìŒ ê¸€ì´ ì•ˆë  ê²½ìš° [https://utteranc.es/](https://utteranc.es/)ì‚¬ì´íŠ¸ë¡œ ë°”ë¡œê°€ì„œ `Enable Utterances`ë‹¨ê³„ê¹Œì§€ ì„¸íŒ…í•œë‹¤.
### 2. copy ë²„íŠ¼ìœ¼ë¡œ htmlì„ ê°€ì ¸ì˜¨ ë’¤, í•´ë‹¹í•˜ëŠ” ì†ì„±ì„ ë‹¤ìŒê³¼ ê°™ì´ ëŒ€ì¹˜í•´ì£¼ì.
  > ì°¸ê³ : [ì´ìŠˆ: Reactì—ì„œ ì‚¬ìš© ì˜ˆì‹œ](https://github.com/utterance/utterances/issues/161)
  ```javascript
  'use client';
  import React from 'react';

  const PostComment: React.FC = () => {

    return (
      <section
        ref={(elem) => {
          if (!elem) {
            return;
          }
          const scriptElem = document.createElement('script');
          scriptElem.src = 'https://utteranc.es/client.js';
          scriptElem.async = true;
          scriptElem.setAttribute('repo', 'ê¹ƒí—ˆë¸Œë‹‰ë„¤ì„/ë ˆí¬ì§€í† ë¦¬ì´ë¦„');
          scriptElem.setAttribute('issue-term', 'pathname');
          scriptElem.setAttribute('theme', `github-dark`);
          scriptElem.setAttribute('label', 'ğŸ’¬');
          scriptElem.crossOrigin = 'anonymous';
          elem.replaceChildren(scriptElem);
        }}
      />
    );
  };

  export default PostComment;
  ```
### 3. ë‹¤í¬ëª¨ë“œ ì„¤ì •
- ë„¥ìŠ¤íŠ¸13ì€ `next-themes`ì˜ `useTheme`ë¥¼ í†µí•´ í…Œë§ˆë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ë°‘ì˜ ì˜ˆì‹œëŠ” `next-themes`ì˜ `useTheme()`í›…ì„ ì‚¬ìš©í•´ í…Œë§ˆë¥¼ ë°˜ì˜í•œ ì˜ˆì‹œë‹¤.
1. ìš” ë§í¬[https://www.npmjs.com/package/next-themes](https://www.npmjs.com/package/next-themes)ë¥¼ ë“¤ì–´ê°„ë‹¤.
2. RootLayoutì„ `ThemeProvider`ë¡œ ê°ì‹¸ì¤€ë‹¤.
  ```javascript
  import { ThemeProvider } from 'next-themes'

  export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="ko">
      <body>
          <ThemeProvider>
            <main>{children}</main>
          </ThemeProvider>
      </body>
    </html>
    );
  }
  ```
3. darkmodeë¥¼ classë¡œ ê´€ë¦¬í•˜ê±°ë‚˜, storageKeyë¥¼ ì„¤ì •í•´ì£¼ê³  ì‹¶ìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•œë‹¤.
  - ì € ê°™ì€ ê²½ìš°ëŠ” `tailwind.config.ts`ì—ì„œ `darkMode: 'class'`ë¥¼ ì„¤ì •í•´ì£¼ì—ˆìœ¼ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.
  ```javascript
  <ThemeProvider attribute={'class'} storageKey={'theme'} defaultTheme={'system'}>
    {children}
  </ThemeProvider>
  ```

### 4. useThemeë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ì‘í˜•ì„ êµ¬í˜„í–ˆë‹¤.
```javascript
'use client';
import React from 'react';
import { useTheme } from 'next-themes';

const PostComment: React.FC = () => {
  const { theme } = useTheme();

  return (
    <section
      ref={(elem) => {
        if (!elem) {
          return;
        }
        const scriptElem = document.createElement('script');
        scriptElem.src = 'https://utteranc.es/client.js';
        scriptElem.async = true;
        scriptElem.setAttribute('repo', 'ê¹ƒí—ˆë¸Œë‹‰ë„¤ì„/ë ˆí¬ì§€í† ë¦¬ì´ë¦„');
        scriptElem.setAttribute('issue-term', 'pathname');
        scriptElem.setAttribute('theme', `github-${theme}`);
        scriptElem.setAttribute('label', 'ğŸ’¬');
        scriptElem.crossOrigin = 'anonymous';
        elem.replaceChildren(scriptElem);
      }}
    />
  );
};

export default PostComment;
```

# ë§ˆë¬´ë¦¬
uië„ êµ¬í˜„ë˜ìˆì–´ì„œ ì‰½ê²Œ ì ìš©í•´ì„œ ê¸°ë¶„ì¢‹ì•˜ìŠµë‹ˆë‹¤. ì¶”ê°€ë¡œ localhostì—ì„œ ì˜¤ë¥˜ê°€ ë‚˜ê¸° ë•Œë¬¸ì— `.env.local`íŒŒì¼ì„ ìƒì„±í•´ì„œ localì—ì„œëŠ” ìƒì„± ì•ˆë˜ê²Œ ë§Œë“¤ì—ˆë‹¤!
```javascript
{!process?.env?.IS_LOCAL ? <PostComment /> : <div>DevMode</div>}
```
ë‹¤ìŒì€ ì €ì˜ ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸ ê¹ƒí—ˆë¸Œì…ë‹ˆë‹¤. [https://github.com/heisje/heisje-blog/blob/main/blog/src/app/posts/%5Bslug%5D/PostComment.tsx](https://github.com/heisje/heisje-blog/blob/main/blog/src/app/posts/%5Bslug%5D/PostComment.tsx)

# ë ˆí¼ëŸ°ìŠ¤
- [https://github.com/utterance/utterances/issues/161](https://github.com/utterance/utterances/issues/161)
- [https://computasha.github.io/etc-utterances/](https://computasha.github.io/etc-utterances/)
- [https://github.com/ChangJuneKim/bloggggg](https://github.com/ChangJuneKim/bloggggg)
- [https://utteranc.es/](https://utteranc.es/)
